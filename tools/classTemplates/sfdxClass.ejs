// Generated on <%= getCurrentFormatedDate() %> using <%= cliVersion %>. DO NOT MODIFY
// Copyright (c) 2005-<%= new Date().getFullYear() %>, Coveo Solutions Inc.

using System.Diagnostics;
using System.IO;
using sfdx4csharpClient.Core;

namespace sfdx4csharpClient
{
    /// <summary>
    /// A client using the Salesforce Developer Experience (SFDX) command-line interface.
    /// </summary>
    /// <remarks>
    /// In order to use this client, you need to install the sfdxcli on your machine.
    /// How to: https://developer.salesforce.com/docs/atlas.en-us.sfdx_setup.meta/sfdx_setup/sfdx_setup_intro.htm
    /// </remarks>
    public class GeneratedSFDXClient
    {<% _.each(classDefinitions, function(classDefinition) { %>
      public <%= classDefinition.className %> <%= classDefinition.fileName %> { get; }<% }) %>

      private CommandExecutioner CommandExecutioner { get; }

      /// <summary>
      /// Initialize the modules that encapsulate the commands in the force namespace.
      /// </summary>
      /// <param name="p_Path">File path to the SFDC CLI executable</param>
      public GeneratedSFDXClient(string p_Path)
      {
          Debug.Assert(!string.IsNullOrEmpty(p_Path));
          Debug.Assert(File.Exists(p_Path));

          CommandExecutioner = new CommandExecutioner(new CommandRunner(p_Path));<%
          _.each(classDefinitions, function(classDefinition) { %>
          this.<%= classDefinition.fileName %> = new <%= classDefinition.className %>(CommandExecutioner);<% }) %>
        }
    }
}
